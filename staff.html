<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<!-- @TODO Remember to set these up local --> 
<script src="lib/vexflow-min.js"/>
<script src="lib/raphael.js"/>
<script src="toneAnalysis.js"></script>
<style>

</style>

<script>
$(document).ready(function () {
    var renderer = new Vex.Flow.Renderer(staff, Vex.Flow.Renderer.Backends.CANVAS);
    
    var ctx = renderer.getContext();
    var trebble = new Vex.Flow.Stave(10, 0, 400, {space_below_staff_ln: 1, space_above_staff_ln: 1});
    trebble.addClef("treble").setContext(ctx).draw();
    
    var bass = new Vex.Flow.Stave(10, trebble.getBottomY(), 400, {space_below_staff_ln: 1, space_above_staff_ln: 1});
    bass.addClef("bass").setContext(ctx).draw();

    // Create the notes
    var notes = [
        // A quarter-note C.
        new Vex.Flow.StaveNote({ keys: ["c/4"], duration: "q" }),

        // A quarter-note D.
        new Vex.Flow.StaveNote({ keys: ["d/4"], duration: "q" }),

        // A quarter-note rest. Note that the key (b/4) specifies the vertical
        // position of the rest.
        new Vex.Flow.StaveNote({ keys: ["b/4"], duration: "qr" }),

        // A C-Major chord.
        new Vex.Flow.StaveNote({ keys: ["c/4", "e/4", "g/4"], duration: "q" })
    ];

    // Create a voice in 4/4
    var voice = new Vex.Flow.Voice({
        num_beats: 4,
        beat_value: 4,
        resolution: Vex.Flow.RESOLUTION
    });

    // Add notes to voice
    voice.addTickables(notes);

    // Format and justify the notes to 500 pixels
    var formatter = new Vex.Flow.Formatter().
    joinVoices([voice]).format([voice], 400);

    // Render voice
    voice.draw(ctx, trebble);    
}); 
</script>
</head>

<body>
    <canvas id="staff" width=500 height=800 style="background:#fff" ></canvas>
</body>
